<div class="row">
  <div class="col-12 d-flex justify-content-between pb-3">
    <h1 class="h2">Calendario de faltas</h1>
  </div>
</div>
<div class="row">
  <form class="col-12 formulario" [formGroup]="validar" (ngSubmit)="onSubmit()">
    <div class="row m-2 mt-2">
      <div class="mb-3 col-12 col-sm-6">
        <label for="fecha" class="form-label"><strong>Elige una fecha para ver sus faltas</strong></label>
        <input type="date" formControlName="fecha" class="form-control" id="fecha">
        <div *ngIf="submitted && formulario['fecha'].errors">
          <div *ngIf="formulario['fecha'].errors['required']"
            class="h6 text-danger bg-white rounded border border-2 border-danger p-2">La fecha de entrega no puede estar
            vacía.
          </div>
          <div *ngIf="formulario['fecha'].errors['mayorQueHoy']"
            class="h6 text-danger bg-white rounded border border-2 border-danger p-2">La fecha tiene que ser igual o
            mayor que hoy.
          </div>
        </div>
      </div>
    </div>
    <button class="btn btn-primary">Ver las faltas de este día</button>
  </form>
</div>
<div class="row mt-2" *ngIf="guardias.length == 0 && submitted">
  <div class="col-12 d-flex justify-content-between pb-3">
    <h4>No hay guardias para ese día</h4>
  </div>
</div>
<div class="row mt-2" *ngIf="guardias.length > 0">
  <div class="col-12">
    <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
      class="table table-striped table-bordered row-border hover text-center table-hover bg-white">
      <thead class="table-danger text-black">
        <tr>
          <th scope="col">Docente ausente</th>
          <th scope="col">Hora</th>
          <th scope="col">Grupo</th>
          <th scope="col">Aula</th>
          <th scope="col">Ver en detalle</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let g of guardias">
          <td class="cursor-pointer" scope="col">
            <p>{{g.nombre}} {{g.apellidos}}</p>
          </td>
          <td class="cursor-pointer" scope="col">
            <p>{{g.hora}}</p>
          </td>
          <td class="cursor-pointer" scope="col">
            <p>{{g.grupo}}</p>
          </td>
          <td class="cursor-pointer" scope="col">
            <p>{{g.aula}}</p>
          </td>
          <td scope="col">
            <button (click)="verDetalle(g)"
              class="btn btn-outline-primary px-2 py-1 me-2" type="submit" aria-label="modificar">
              Detalle
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
